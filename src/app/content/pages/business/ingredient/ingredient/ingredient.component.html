<cp-loading></cp-loading>
<div class="m-portlet m-portlet--full-height m-portlet--tabs">
	<div class="m-portlet__body">
		<div class="form-group m-form__group row">
			<h3 class="m-form__section" translate>{{'INGREDIENT.TITLE'}}</h3>
		</div>
		<form class="m-form m-form--fit m-form--label-align-right" name="form" [formGroup]="formGroup" novalidate>
			<div class="m-portlet__body">
				<div class="row">
					<div class="col-sm-12">
						<div class="form-group m-form__group">
							<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.NAME' }}</label>
							<input class="form-control m-input cp-input" name="name" formControlName="name" placeholder="{{'INGREDIENT.INPUT.NAME' | translate }}"
							 type="text">
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-6">
						<div class="form-group m-form__group">
							<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.CATEGORY' }}</label>
							<select [compareWith]="compareSelect" class="form-control cp-input" name="category" formControlName="ingredientCategory">
								<option value="null" [disabled]="true" translate>{{'INPUTS.OPTION_DEFAULT'}}</option>
								<option *ngFor="let category of categories" [ngValue]="category">{{ category.name }}</option>
							</select>
						</div>
					</div>
					<div class="col-sm-6">
						<div class="form-group m-form__group">
							<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.UNIT' }}</label>
							<select [compareWith]="compareSelect" class="form-control cp-input" name="unit" formControlName="unit">
								<option value="null" [disabled]="true" translate>{{'INPUTS.OPTION_DEFAULT'}}</option>
								<option *ngFor="let unit of units" [ngValue]="unit">{{ unit.name }}</option>
							</select>
						</div>
					</div>
				</div>

				<div formGroupName="purchasePrice">
					<div class="row m--margin-top-10">
						<div class="col-sm-12">
							<h5 class="text-center" translate>{{ 'INGREDIENT.TITLE_PURCHASE_PRICE'}}</h5>
						</div>
					</div>
					<div class="row">
						<div class="col-sm-12">
							<div class="form-group m-form__group">
									<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.PRICE' }}</label>
								<input class="form-control m-input cp-input full-width" name="price" type="text" formControlName="price">
							</div>
						</div>
					</div>
					<div class="row m--margin-top-10">
						<div class="col-sm-6">
							<div class="form-group m-form__group">
									<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.UNITQUANTITY' }}</label>
								<input class="form-control m-input cp-input" name="priceUnityQuantity" type="number" formControlName="unityQuantity">
							</div>
						</div>
						<div class="col-sm-6">
							<div class="form-group m-form__group">
									<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.UNIT' }}</label>
								<select [compareWith]="compareSelect" class="form-control cp-input" formControlName="unit" name="priceUnit">
									<option value="null" [disabled]="true" translate>{{'INPUTS.OPTION_DEFAULT'}}</option>
									<option *ngFor="let unit of units" [ngValue]="unit">{{ unit.name }}</option>
								</select>
							</div>
						</div>
					</div>
				</div>

				<div class="row">
					<div class="col-sm-12">
						<div class="form-group m-form__group">
							<label class="col-form-label" translate>{{ 'INGREDIENT.INPUT.DESCRIPTION' }}</label>
							<textarea class="form-control cp-input" rows="3" formControlName="description" placeholder="{{'INGREDIENT.INPUT.DESCRIPTION' | translate }}"></textarea>
						</div>
					</div>
				</div>
			</div>
			<div class="m-portlet__foot m-portlet__foot--fit">
				<div class="m-form__actions">
					<div class="row">
						<div class="col-2"></div>
						<div class="col-7">
							<!--TODO: Tradução-->
							<button type="button" class="btn btn-secondary m-btn m-btn--air m-btn--custom" name="btnBack" (click)="cancel()" translate>{{ 'INPUTS.BACK' }}</button>
							<button type="button" class="btn btn-accent m-btn m-btn--air m-btn--custom" name="btnSave" (click)="save()" translate>{{ 'INPUTS.SAVE' }}</button>&nbsp;&nbsp;
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>